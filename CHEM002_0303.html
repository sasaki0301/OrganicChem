<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Chapter 3 — Lesson 3: Resonance (with Skeletal + Lewis diagrams)</title>
<style>
  :root {
    --primary: #136f63;
    --accent: #174ea6;
    --muted: #eef3ff;
    --text: #222;
    --font: "Segoe UI", Arial, sans-serif;
  }
  body {
    font-family: var(--font);
    background-color: #fafafa;
    color: var(--text);
    margin: 0;
    padding: 20px;
    line-height: 1.7;
    font-size: 20px;
  }
  h1 { color: var(--primary); font-size: 2.0rem; margin-bottom: 6px; }
  h2 { color: var(--primary); font-size: 1.4rem; margin-top: 18px; }
  h3 { color: var(--accent); margin-top: 12px; font-size: 1.05rem; }
  p { margin: 10px 0; }
  .note { color: #555; font-size: 0.98rem; margin-bottom: 8px; }

  .section { margin-bottom: 22px; background:#fff; padding:14px 16px; border-radius:10px; box-shadow:0 6px 18px rgba(0,0,0,0.04); }
  .activity { background: #fcfeff; border-left:6px solid var(--primary); padding:12px 14px; border-radius:8px; margin-top:12px; }
  .toggle-btn {
    background: var(--primary); color: #fff; border: none; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600;
    margin-top:10px;
  }
  .toggle-btn:hover { background:#0f5b52; transform:translateY(-1px); }
  .answer { display:none; margin-top:10px; background:var(--muted); padding:10px; border-radius:8px; }

  .svg-wrap { text-align:center; padding:12px 0; }
  svg { max-width:98%; height:auto; border-radius:8px; }

  .legend { font-size:0.95rem; color:#333; margin-top:6px; text-align:center; }

  .quiz-button { background: var(--primary); color:#fff; border:none; padding:12px 18px; border-radius:10px; cursor:pointer; font-weight:700; margin-top:14px; }
  .quiz-button:hover { background:#0f5b52; }

  ul { margin-left:22px; }
  table { width:100%; border-collapse:collapse; margin-top:8px; }
  td, th { padding:8px 10px; border-bottom:1px solid #eee; text-align:left; font-size:0.98rem; }
  .key-terms { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:10px; }

  @media (max-width:700px) {
    body { font-size:18px; padding:12px; }
  }
</style>
</head>
<body>

<h1>Resonance Structures — with Skeletal & Lewis Visuals</h1>
<p class="note">This lesson shows resonance using combined skeletal and Lewis diagrams (style C). Curved arrows show electron movement only — atoms never move. Use the "Show Answer" toggles after attempting activities.</p>

<!-- 1: Definition -->
<div class="section">
  <h2>1. What is resonance?</h2>
  <p>Resonance occurs when more than one valid Lewis structure (resonance structure) can be drawn for a molecule or ion without moving atoms — only electrons (π bonds, lone pairs, or formal charges) are redistributed. The real structure is the <strong>resonance hybrid</strong>, which averages contributors.</p>

  <div class="activity">
    <h3>Activity — Quick check</h3>
    <p>Does resonance mean the molecule flips between structures?</p>
    <button class="toggle-btn" onclick="toggleAnswer(this)">Show Answer</button>
    <div class="answer"><strong>No.</strong> The molecule does not flip; instead, the electrons are delocalized and the true structure is the resonance hybrid (an average).</div>
  </div>
</div>

<!-- 2: Nitrite NO2- -->
<div class="section">
  <h2>2. Example — Nitrite ion (NO<sub>2</sub><sup>−</sup>)</h2>
  <p>NO<sub>2</sub><sup>−</sup> has two equivalent resonance contributors where the double bond can be on either oxygen. Below are skeletal + Lewis hybrid diagrams showing lone pairs, formal charges, and curved arrows.</p>

  <div class="svg-wrap">
    <!-- Nitrite: two contributors with curved arrow (SVG embedded) -->
    <svg viewBox="0 0 900 220" aria-labelledby="no2title" role="img">
      <title id="no2title">Nitrite resonance: two contributors and hybrid</title>
      <!-- Contributor 1 -->
      <g transform="translate(40,20)">
        <!-- N central -->
        <line x1="120" y1="80" x2="200" y2="80" stroke="#222" stroke-width="3"/>
        <line x1="200" y1="80" x2="280" y2="80" stroke="#222" stroke-width="6"/> <!-- double -->
        <!-- O (right) -->
        <circle cx="320" cy="80" r="18" fill="#fff" stroke="#222"/>
        <text x="316" y="86" font-size="18" fill="#222">O</text>
        <!-- lone pairs right -->
        <g fill="#222" stroke="none">
          <circle cx="345" cy="62" r="3"/><circle cx="355" cy="62" r="3"/>
          <circle cx="345" cy="98" r="3"/><circle cx="355" cy="98" r="3"/>
        </g>
        <!-- N -->
        <circle cx="180" cy="80" r="20" fill="#fff" stroke="#222"/>
        <text x="174" y="86" font-size="18" fill="#222">N</text>
        <!-- left O single -->
        <line x1="120" y1="80" x2="40" y2="80" stroke="#222" stroke-width="3"/>
        <circle cx="10" cy="80" r="18" fill="#fff" stroke="#222"/>
        <text x="6" y="86" font-size="18">O</text>
        <!-- lone pairs left -->
        <g fill="#222">
          <circle cx="-15" cy="62" r="3"/><circle cx="-5" cy="62" r="3"/>
          <circle cx="-15" cy="98" r="3"/><circle cx="-5" cy="98" r="3"/>
        </g>
        <!-- formal charges -->
        <text x="330" y="110" font-size="18" fill="#b71c1c">0</text>
        <text x="-5" y="110" font-size="18" fill="#b71c1c">-</text>
        <!-- bracket +1 charge overall -->
        <rect x="-40" y="20" width="320" height="120" rx="10" fill="none" stroke="#aaa" stroke-dasharray="4"/>
        <text x="270" y="40" font-size="16" fill="#222">–</text>
      </g>

      <!-- Curved arrow showing pi movement (from left lone pair to N-O double) -->
      <path d="M80 60 C 140 40, 260 40, 320 60" stroke="#0b5" stroke-width="3" fill="none" marker-end="url(#arrow)" opacity="0.95"/>
      <path d="M300 110 C 240 130, 160 130, 100 110" stroke="#0b5" stroke-width="3" fill="none" marker-end="url(#arrow)" opacity="0.95"/>

      <!-- Contributor 2 (mirrored) -->
      <g transform="translate(420,20)">
        <line x1="120" y1="80" x2="200" y2="80" stroke="#222" stroke-width="6"/> <!-- double left here -->
        <line x1="200" y1="80" x2="280" y2="80" stroke="#222" stroke-width="3"/>
        <circle cx="80" cy="80" r="18" fill="#fff" stroke="#222"/><text x="76" y="86" font-size="18">O</text>
        <g fill="#222">
          <circle cx="55" cy="62" r="3"/><circle cx="65" cy="62" r="3"/><circle cx="55" cy="98" r="3"/><circle cx="65" cy="98" r="3"/>
        </g>
        <circle cx="180" cy="80" r="20" fill="#fff" stroke="#222"/><text x="174" y="86" font-size="18">N</text>
        <line x1="240" y1="80" x2="320" y2="80" stroke="#222" stroke-width="3"/>
        <circle cx="360" cy="80" r="18" fill="#fff" stroke="#222"/><text x="356" y="86" font-size="18">O</text>
        <g fill="#222">
          <circle cx="385" cy="62" r="3"/><circle cx="395" cy="62" r="3"/><circle cx="385" cy="98" r="3"/><circle cx="395" cy="98" r="3"/>
        </g>
        <rect x="0" y="20" width="320" height="120" rx="10" fill="none" stroke="#aaa" stroke-dasharray="4"/>
        <text x="270" y="40" font-size="16" fill="#222">–</text>
      </g>

      <!-- arrowhead marker -->
      <defs>
        <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
          <path d="M0,0 L12,6 L0,12 z" fill="#0b5"/>
        </marker>
      </defs>
    </svg>
    <div class="legend">NO<sub>2</sub><sup>−</sup> resonance: two equivalent contributors → hybrid has equal N–O bond lengths and partial double bond character.</div>
  </div>

  <div class="activity">
    <h3>Activity — Determine formal charges</h3>
    <p>Using the Lewis contributors above, where is the negative formal charge located in each resonance form?</p>
    <button class="toggle-btn" onclick="toggleAnswer(this)">Show Answer</button>
    <div class="answer">In each contributor, one oxygen carries the full negative formal charge (the single-bonded O). In the hybrid the negative charge is delocalized between both oxygens.</div>
  </div>
</div>

<!-- 3: Carboxylate -->
<div class="section">
  <h2>3. Carboxylate ion (RCOO<sup>−</sup>) — delocalization across two oxygens</h2>
  <p>Carboxylate ions (e.g., acetate CH₃COO⁻) have two equivalent resonance contributors: the negative charge is shared (delocalized) across both oxygens, making both C–O bonds intermediate between single and double.</p>

  <div class="svg-wrap">
    <!-- Carboxylate simplified -->
    <svg viewBox="0 0 800 170" role="img" aria-label="Carboxylate resonance">
      <title>Carboxylate resonance</title>
      <!-- contributor A -->
      <g transform="translate(20,20)">
        <!-- R-COO contributor -->
        <text x="10" y="95" font-size="18">R–</text>
        <line x1="36" y1="90" x2="96" y2="90" stroke="#222" stroke-width="3"/>
        <circle cx="126" cy="90" r="18" fill="#fff" stroke="#222"/><text x="122" y="96" font-size="18">C</text>
        <line x1="144" y1="90" x2="210" y2="52" stroke="#222" stroke-width="6"/> <!-- C=O up -->
        <circle cx="240" cy="46" r="18" fill="#fff" stroke="#222"/><text x="236" y="52" font-size="18">O</text>
        <g fill="#222"><circle cx="263" cy="30" r="3"/><circle cx="273" cy="30" r="3"/><circle cx="263" cy="62" r="3"/><circle cx="273" cy="62" r="3"/></g>

        <line x1="144" y1="90" x2="210" y2="128" stroke="#222" stroke-width="3"/> <!-- C-O single bottom -->
        <circle cx="240" cy="134" r="18" fill="#fff" stroke="#222"/><text x="236" y="140" font-size="18">O</text>
        <g fill="#222"><circle cx="253" cy="114" r="3"/><circle cx="263" cy="114" r="3"/><circle cx="253" cy="154" r="3"/><circle cx="263" cy="154" r="3"/></g>
        <text x="270" y="150" font-size="18" fill="#b71c1c">−</text>
      </g>

      <!-- arrow to contributor B -->
      <path d="M320 85 C 380 40, 460 40, 520 85" stroke="#0b5" stroke-width="3" fill="none" marker-end="url(#arr2)"/>
      <path d="M520 105 C 460 150, 380 150, 320 105" stroke="#0b5" stroke-width="3" fill="none" marker-end="url(#arr2)"/>

      <!-- contributor B (mirror) -->
      <g transform="translate(560,20)">
        <text x="10" y="95" font-size="18">R–</text>
        <line x1="36" y1="90" x2="96" y2="90" stroke="#222" stroke-width="3"/>
        <circle cx="126" cy="90" r="18" fill="#fff" stroke="#222"/><text x="122" y="96" font-size="18">C</text>

        <line x1="144" y1="90" x2="210" y2="52" stroke="#222" stroke-width="3"/> <!-- C-O single up -->
        <circle cx="240" cy="46" r="18" fill="#fff" stroke="#222"/><text x="236" y="52" font-size="18">O</text>
        <g fill="#222"><circle cx="263" cy="30" r="3"/><circle cx="273" cy="30" r="3"/><circle cx="263" cy="62" r="3"/><circle cx="273" cy="62" r="3"/></g>

        <line x1="144" y1="90" x2="210" y2="128" stroke="#222" stroke-width="6"/> <!-- C=O bottom -->
        <circle cx="240" cy="134" r="18" fill="#fff" stroke="#222"/><text x="236" y="140" font-size="18">O</text>
        <g fill="#222"><circle cx="253" cy="114" r="3"/><circle cx="263" cy="114" r="3"/><circle cx="253" cy="154" r="3"/><circle cx="263" cy="154" r="3"/></g>
        <text x="30" y="150" font-size="18" fill="#b71c1c">−</text>
      </g>

      <defs>
        <marker id="arr2" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
          <path d="M0,0 L12,6 L0,12 z" fill="#0b5"/>
        </marker>
      </defs>
    </svg>
    <div class="legend">Carboxylate resonance: both C–O bonds have partial double-bond character; negative charge delocalized.</div>
  </div>

  <div class="activity">
    <h3>Activity — Which bonds are equal?</h3>
    <p>Explain why both C–O bonds in carboxylate are the same length experimentally.</p>
    <button class="toggle-btn" onclick="toggleAnswer(this)">Show Answer</button>
    <div class="answer">Because the two resonance contributors share the double-bond character between both oxygens, making both C–O bonds equivalent (intermediate length between single and double).</div>
  </div>
</div>

<!-- 4: Phenoxide / benzene -->
<div class="section">
  <h2>4. Aromatic resonance: Benzene & Phenoxide</h2>
  <p>Benzene is represented by two Kekulé structures; the real molecule has equal C–C bond lengths due to delocalized π electrons. Phenoxide (ArO⁻) shows resonance where the negative charge is delocalized into the ring.</p>

  <div class="svg-wrap">
    <!-- Benzene simplified -->
    <svg viewBox="0 0 780 200" role="img" aria-label="Benzene and phenoxide resonance">
      <title>Benzene and phenoxide resonance</title>

      <!-- Benzene: circle in hexagon to show delocalization -->
      <g transform="translate(20,10)">
        <text x="10" y="24" font-size="16">Benzene (delocalized π)</text>
        <g transform="translate(120,90)">
          <!-- hexagon -->
          <polygon points="0,-60 52,-30 52,30 0,60 -52,30 -52,-30" fill="#fff" stroke="#222" stroke-width="2"/>
          <circle cx="0" cy="0" r="24" fill="#eef3ff" stroke="none"/>
          <text x="-26" y="6" font-size="14" fill="#174ea6">delocalized</text>
        </g>
      </g>

      <!-- Phenoxide: ring with O- resonance contributors -->
      <g transform="translate(360,10)">
        <text x="-10" y="24" font-size="16">Phenoxide resonance (ArO⁻)</text>

        <!-- ring with O- -->
        <g transform="translate(120,90)">
          <polygon points="0,-60 52,-30 52,30 0,60 -52,30 -52,-30" fill="#fff" stroke="#222" stroke-width="2"/>
          <!-- oxygen substituent to right -->
          <line x1="52" y1="-30" x2="96" y2="-60" stroke="#222" stroke-width="3"/>
          <circle cx="116" cy="-74" r="16" fill="#fff" stroke="#222"/>
          <text x="110" y="-68" font-size="14">O</text>
          <g fill="#222"><circle cx="132" cy="-86" r="3"/><circle cx="142" cy="-86" r="3"/><circle cx="132" cy="-62" r="3"/><circle cx="142" cy="-62" r="3"/></g>
          <text x="140" y="-48" font-size="18" fill="#b71c1c">−</text>
        </g>

        <text x="10" y="170" font-size="13" fill="#555">Negative charge delocalizes into ring via resonance → increased stabilization.</text>
      </g>
    </svg>
    <div class="legend">Aromatic delocalization — benzene: π cloud; phenoxide: charge resonance into ring positions (ortho/para).</div>
  </div>

  <div class="activity">
    <h3>Activity — Draw resonance</h3>
    <p>Sketch two resonance forms of phenoxide showing the negative charge on ortho and para carbons (you can use the skeletal ring and move electrons only).</p>
    <button class="toggle-btn" onclick="toggleAnswer(this)">Show Answer</button>
    <div class="answer">The negative charge can be shown as delocalized into the ring at ortho and para positions; curved arrows start from the oxygen lone pair into the ring forming C–O double bond and shifting the π electrons around the ring.</div>
  </div>
</div>

<!-- 5: Allylic cation/anion -->
<div class="section">
  <h2>5. Allylic systems — charge delocalization</h2>
  <p>Allylic cations and anions (adjacent to a C=C) can delocalize charge across the π system. Example: the allylic cation CH₂=CH–CH₂⁺ has two resonance contributors where the positive charge resides on either terminal carbon.</p>

  <div class="svg-wrap">
    <svg viewBox="0 0 760 200" role="img" aria-label="Allylic resonance">
      <title>Allylic cation and anion resonance</title>
      <!-- contributor 1 -->
      <g transform="translate(20,20)">
        <text x="10" y="18" font-size="14">CH₂=CH–CH₂⁺ (contributor 1)</text>
        <text x="10" y="46" font-size="14">structure:</text>
        <g transform="translate(150,70)" font-size="14">
          <text x="-70" y="8">CH₂</text>
          <line x1="-52" y1="0" x2="-10" y2="0" stroke="#222" stroke-width="3"/>
          <text x="-2" y="8">CH</text>
          <line x1="16" y1="0" x2="56" y2="0" stroke="#222" stroke-width="6"/> <!-- double -->
          <text x="64" y="8">CH₂</text>
          <text x="92" y="12" font-size="18" fill="#b71c1c">+</text>
        </g>
      </g>

      <!-- arrow -->
      <path d="M330 100 C 400 40, 440 40, 520 100" stroke="#0b5" stroke-width="3" fill="none" marker-end="url(#arr3)"/>

      <!-- contributor 2 -->
      <g transform="translate(420,20)">
        <text x="10" y="18" font-size="14">CH₂–CH=CH₂⁺ (contributor 2)</text>
        <g transform="translate(150,70)" font-size="14">
          <text x="-70" y="8">CH₂</text>
          <line x1="-52" y1="0" x2="-10" y2="0" stroke="#222" stroke-width="3"/>
          <text x="-2" y="8">CH</text>
          <line x1="16" y1="0" x2="56" y2="0" stroke="#222" stroke-width="6"/> <!-- double moved -->
          <text x="64" y="8">CH₂</text>
          <text x="92" y="12" font-size="18" fill="#b71c1c">+</text>
        </g>
      </g>

      <defs>
        <marker id="arr3" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
          <path d="M0,0 L12,6 L0,12 z" fill="#0b5"/>
        </marker>
      </defs>
    </svg>
    <div class="legend">Allylic cation: positive charge delocalized across π system → stabilization.</div>
  </div>

  <div class="activity">
    <h3>Activity — Predict stability</h3>
    <p>Which is more stable: a primary carbocation next to a double bond (allylic) or a primary carbocation without resonance? Explain.</p>
    <button class="toggle-btn" onclick="toggleAnswer(this)">Show Answer</button>
    <div class="answer">The allylic carbocation is more stable due to resonance delocalization of the positive charge over two carbons. Delocalization lowers energy.</div>
  </div>
</div>

<!-- 6: Ozone -->
<div class="section">
  <h2>6. Ozone (O₃)</h2>
  <p>Ozone has two major resonance structures: one O–O double and one O–O single bond in each contributor; in the hybrid both bonds are equivalent (partial double character), so experimentally both O–O distances are equal.</p>

  <div class="svg-wrap">
    <svg viewBox="0 0 780 200" role="img" aria-label="Ozone resonance">
      <title>Ozone resonance</title>
      <!-- contributor 1 -->
      <g transform="translate(40,20)">
        <text x="10" y="18" font-size="14">O–O=O (contributor 1)</text>
        <g transform="translate(120,90)">
          <circle cx="-60" cy="0" r="18" fill="#fff" stroke="#222"/><text x="-64" y="6">O</text>
          <line x1="-42" y1="0" x2="-2" y2="0" stroke="#222" stroke-width="3"/>
          <line x1="16" y1="0" x2="76" y2="0" stroke="#222" stroke-width="6"/> <!-- double -->
          <circle cx="96" cy="0" r="18" fill="#fff" stroke="#222"/><text x="92" y="6">O</text>
          <text x="-16" y="-16" font-size="14" fill="#b71c1c">+</text>
          <text x="-16" y="32" font-size="14" fill="#b71c1c">−</text>
        </g>
      </g>

      <!-- arrow between contributors -->
      <path d="M300 90 C 360 20, 420 20, 480 90" stroke="#0b5" stroke-width="3" fill="none" marker-end="url(#arr4)"/>
      <path d="M480 110 C 420 180, 360 180, 300 110" stroke="#0b5" stroke-width="3" fill="none" marker-end="url(#arr4)"/>

      <!-- contributor 2 -->
      <g transform="translate(520,20)">
        <text x="10" y="18" font-size="14">O=O–O (contributor 2)</text>
        <g transform="translate(120,90)">
          <circle cx="-60" cy="0" r="18" fill="#fff" stroke="#222"/><text x="-64" y="6">O</text>
          <line x1="-42" y1="0" x2="-2" y2="0" stroke="#222" stroke-width="6"/> <!-- double -->
          <circle cx="16" cy="0" r="18" fill="#fff" stroke="#222"/><text x="12" y="6">O</text>
          <line x1="34" y1="0" x2="76" y2="0" stroke="#222" stroke-width="3"/>
          <circle cx="96" cy="0" r="18" fill="#fff" stroke="#222"/><text x="92" y="6">O</text>
          <text x="12" y="-16" font-size="14" fill="#b71c1c">+</text>
          <text x="12" y="32" font-size="14" fill="#b71c1c">−</text>
        </g>
      </g>

      <defs>
        <marker id="arr4" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
          <path d="M0,0 L12,6 L0,12 z" fill="#0b5"/>
        </marker>
      </defs>
    </svg>
    <div class="legend">Ozone resonance: both O–O bonds are equivalent in the hybrid (partial double character).</div>
  </div>

  <div class="activity">
    <h3>Activity — Bond lengths</h3>
    <p>Explain why both O–O bonds in ozone are experimentally equal despite one being drawn as single and the other double in each Lewis contributor.</p>
    <button class="toggle-btn" onclick="toggleAnswer(this)">Show Answer</button>
    <div class="answer">The π electrons are delocalized across the O–O–O framework; the resonance hybrid distributes double-bond character equally, making both bond lengths equal.</div>
  </div>
</div>

<!-- Key Terms -->
<div class="section">
  <h2>Key Terms</h2>
  <div class="key-terms">
    <div><strong>Resonance</strong><br>Use of multiple Lewis structures to describe delocalized electrons.</div>
    <div><strong>Resonance hybrid</strong><br>The averaged, real electronic structure.</div>
    <div><strong>Delocalization</strong><br>Electrons spread over two or more atoms.</div>
    <div><strong>Contributor</strong><br>One valid resonance Lewis structure.</div>
    <div><strong>Major contributor</strong><br>Most stable resonance form (full octets, minimal charges).</div>
    <div><strong>Curved arrows</strong><br>Show electron movement only (from lone pair or π bond to form new bond or charge).</div>
  </div>
</div>

<div style="text-align:center; margin-top:12px;">
  <button class="quiz-button" id="takeQuizBtn">Take the Quiz →</button>
</div>

<script>
  function toggleAnswer(btn) {
    const a = btn.nextElementSibling;
    const visible = a.style.display === 'block';
    a.style.display = visible ? 'none' : 'block';
    btn.textContent = visible ? 'Show Answer' : 'Hide Answer';
  }

  document.getElementById('takeQuizBtn').addEventListener('click', () => {
    // Notify parent to open the quiz file (keeps integration consistent)
    window.parent.postMessage({ type: 'openQuiz', quiz: 'chapter3_lesson3_quiz.html' }, '*');
  });
</script>

</body>
</html>
